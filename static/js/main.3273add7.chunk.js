(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{303:function(e,a){e.exports="data:image/png;base64,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"},384:function(e,a,t){e.exports=t(768)},40:function(e,a,t){e.exports={primary:"#46d0f7",secondary:"#7d2ae8"}},469:function(e,a,t){},472:function(e,a,t){},717:function(e,a,t){},718:function(e,a,t){},732:function(e,a,t){},765:function(e,a,t){},766:function(e,a,t){},767:function(e,a,t){},768:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(13),c=t.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function i(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}var o=t(36),s=t.n(o),u=(t(462),t(464),t(771)),m=t(773),d=t(316),E=t(22),p=t(14),g=t(5),f=l.a.createContext(),v=l.a.createContext(),h=function(e){var a=e.children,t=Object(n.useState)(Ie.auth().currentUser.displayName),r=Object(g.a)(t,2),c=r[0],i=r[1],o=Object(n.useState)([]),s=Object(g.a)(o,2),u=s[0],m=s[1];return Object(n.useEffect)(function(){Me.collection("patients").onSnapshot(function(e){var a=[];e.forEach(function(e){var t=Object(p.a)({},e.data(),{uid:e.id});a.push(t)}),m(a)})},[]),Ie.auth().onAuthStateChanged(function(e){e&&i(e.displayName)}),l.a.createElement(f.Provider,{value:[c,i]},l.a.createElement(v.Provider,{value:[u,m]},a))},b=t(220),O=(t(469),t(303)),j=t.n(O),C=function(e){var a=Object(n.useContext)(f),t=Object(g.a)(a,1)[0];return l.a.createElement("div",{className:"navbar"},l.a.createElement("i",{className:"material-icons",onClick:e.onChange},"menu"),l.a.createElement("div",{className:"brand-logo"},l.a.createElement(b.a,{to:"/"},l.a.createElement("h3",null,"ChinguEMR"))),l.a.createElement("span",{className:"spacer"}),l.a.createElement("div",{className:"user",onClick:function(){s.a.auth().signOut()}},l.a.createElement("p",null," ",t," "),l.a.createElement("img",{src:j.a,alt:"PP"})))},N=t(770),A=(t(472),t(40)),w=t.n(A),y=function(){return l.a.createElement("ul",null,l.a.createElement(N.a,{className:"li",exact:!0,to:"/",activeStyle:{color:w.a.primary}},l.a.createElement("i",{className:"material-icons"},"event"),l.a.createElement("span",null,"Agenda")),l.a.createElement(N.a,{className:"li",to:"/patients",activeStyle:{color:w.a.primary}},l.a.createElement("i",{className:"material-icons"},"people"),l.a.createElement("span",null,"Patients")),l.a.createElement("span",{className:"spacer"}),l.a.createElement("div",{className:"li",onClick:function(){s.a.auth().signOut()}},l.a.createElement("i",{className:"material-icons"},"exit_to_app"),l.a.createElement("span",null,"Logout")))},S=t(772),D=t(146),k=t(143),B=t(222),I=t.n(B),M=t(7),W=t(142),L=t.n(W),Q=function(e){var a=Object(n.useState)({}),t=Object(g.a)(a,2),r=t[0],c=t[1],i=Object(n.useState)(e.delbtn),o=Object(g.a)(i,2),s=o[0],u=o[1],m=Object(n.useState)(e.ready),d=Object(g.a)(m,2),E=d[0],p=d[1],f=Object(n.useState)(e.open),h=Object(g.a)(f,2),O=h[0],j=h[1],C=Object(n.useState)(e.remove),N=Object(g.a)(C,2),A=N[0],w=N[1],y=Object(n.useState)(e.event.start),S=Object(g.a)(y,2),D=S[0],B=S[1],W=Object(n.useState)(e.event.end),Q=Object(g.a)(W,2),R=Q[0],H=Q[1],K=Object(n.useContext)(v),F=Object(g.a)(K,1)[0],x=Object(n.useState)([]),P=Object(g.a)(x,2),J=P[0],G=P[1],Y=Object(n.useState)(0),X=Object(g.a)(Y,2),q=X[0],z=X[1];Object(n.useEffect)(function(){!0===E&&e.onClose({start:D,end:R,ready:E,remove:A,patient:r})},[E]),Object(n.useEffect)(function(){!0===A&&e.onClose({start:D,end:R,ready:E,remove:A,patient:r})},[A]),Object(n.useEffect)(function(){!1===O&&e.onClose({start:D,end:R,ready:E,remove:A,patient:r})},[O]);var U=function(e,a){var t=e.getMinutes(),n=e.getHours();if("start"===a){var l=new Date(D);l.setHours(n),l.setMinutes(t),B(l)}if("end"===a){var r=new Date(R);r.setHours(n),r.setMinutes(t),H(r)}},T=function(e){e.preventDefault(),p(!0)},V=function(e){e=e.trim().toLowerCase(),G(""===e?[]:Z(Object(k.a)(F),e))},Z=function(e,a){for(var t=[],n=0;n<e.length;n++){var l=JSON.stringify(e[n]);l.toLowerCase().indexOf(a)>=0&&t.push(JSON.parse(l))}return t},_=function(e){c(e),z(function(e){return e+1})};function $(e){switch(e){case 0:return l.a.createElement("div",{className:"case0"},l.a.createElement(M.d,{className:"titleinput",margin:"normal",required:!0,fullWidth:!0},l.a.createElement(M.g,{htmlFor:"title"},"Search and select a patient"),l.a.createElement(M.f,{id:"title",name:"title",autoComplete:"title",autoFocus:!0,onChange:function(e){return V(e.target.value)}})),l.a.createElement("ul",{className:"patientList"},J.length>0?l.a.createElement("div",null,J.map(function(e,a){return l.a.createElement("li",{key:a,className:a%2?"even":"odd",onClick:function(){return _(e)}},l.a.createElement("span",null," ",e.name," "))})):null));case 1:return l.a.createElement("div",{className:"case1"},s?l.a.createElement(b.a,{to:{pathname:"/patient/".concat(r.uid)}},l.a.createElement("h3",null,r.name)):l.a.createElement("h3",null,r.name),l.a.createElement("div",{className:"pickers"},l.a.createElement("span",null,"Start"),l.a.createElement("span",null,"End"),l.a.createElement(I.a,{className:"timepicker",value:D,onChange:function(e){return U(e,"start")}}),l.a.createElement(I.a,{className:"timepicker",value:R,onChange:function(e){return U(e,"end")}})));default:return"Uknown stepIndex"}}return l.a.createElement(M.h,{open:e.open,onClose:function(){j(!1)},"aria-labelledby":"form-dialog-title",disableAutoFocus:s,onRendered:function(){e.delbtn&&F.forEach(function(a){0===a.uid.localeCompare(e.event.patientid)&&c(a)}),u(e.delbtn),p(e.ready),j(e.open),w(e.remove),B(e.event.start),H(e.event.end)}},l.a.createElement(L.a,{handle:".header"},l.a.createElement("div",{className:"eventModal"},l.a.createElement("div",{className:"header"},l.a.createElement("h3",{id:"form-dialog-title"}," ",e.title," "),s?l.a.createElement(M.e,{onClick:function(){!0===window.confirm("Are you sure you want to remove this scheduled patient?")&&w(!0)}},l.a.createElement("i",{className:"material-icons"},"delete")):l.a.createElement("div",null)),s?l.a.createElement("div",{className:"editContent"},$(1),l.a.createElement(M.a,{variant:"contained",color:"primary",onClick:T,fullWidth:!0},"Edit")):l.a.createElement("div",{className:"newContent"},l.a.createElement(M.k,{activeStep:q,alternativeLabel:!0},["Search","Set times"].map(function(e){return l.a.createElement(M.i,{key:e},l.a.createElement(M.j,null,e))})),$(q),0===q?l.a.createElement("div",null):l.a.createElement("div",{className:"btns"},l.a.createElement(M.a,{variant:"contained",disabled:0===q,onClick:function(){G([]),z(function(e){return e-1})}},"Back"),l.a.createElement(M.a,{variant:"contained",color:"primary",onClick:T},"Save"))))))},R=t(62),H=t.n(R),K=(t(705),t(314)),F=t.n(K),x=D.a.momentLocalizer(H.a),P=F()(D.a),J=function(){var e=Object(n.useState)([]),a=Object(g.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(!1),i=Object(g.a)(c,2),o=i[0],s=i[1],u=Object(n.useState)(!1),m=Object(g.a)(u,2),d=m[0],E=m[1],f=Object(n.useState)(null),v=Object(g.a)(f,2),h=v[0],b=v[1];Object(n.useEffect)(function(){Me.collection("events").onSnapshot(function(e){if(e.empty)console.log("there are no events"),r([]);else{var a=[];e.forEach(function(e){var t=new Date(e.data().start.toMillis()),n=new Date(e.data().end.toMillis()),l=Object(p.a)({},e.data(),{start:t,end:n,uid:e.id});a.push(l)}),r(a)}})},[]);var O=function(e){var a=e.event,t=e.start,n=e.end,l=Object(p.a)({},a,{start:t,end:n});Me.collection("events").doc(a.uid).update(l).catch(function(e){return console.error("Error updating event: ",e)})},j=function(e){Me.collection("events").doc(e.uid).delete().catch(function(e){return console.error("Error removing event: ",e)})};return l.a.createElement("div",null,l.a.createElement(P,{selectable:!0,localizer:x,events:t,onEventDrop:O,onSelectSlot:function(e){b({start:e.start,end:e.end,title:""}),s(!0)},onSelectEvent:function(e){b(e),E(!0)},defaultView:D.a.Views.WEEK,step:30,messages:{previous:"<",next:">",noEventsInRange:"There are no patients scheduled for this time range"},timeslots:2,min:new Date("2019, 1, 1, 08:00"),max:new Date("2019, 1, 1, 20:00"),style:{height:"72vh"}}),o?l.a.createElement("div",null,l.a.createElement(Q,{title:"New appointment",ready:!1,remove:!1,delbtn:!1,open:o,event:h,onClose:function(e){if(s(!1),e.ready){var a={title:e.patient.name,start:e.start,end:e.end,patientid:e.patient.uid};Me.collection("events").add(a).catch(function(e){return console.log("Error addign event: ",e)})}}})):d?l.a.createElement("div",null,l.a.createElement(Q,{title:"Edit appointment",ready:!1,remove:!1,delbtn:!0,open:d,event:h,onClose:function(e){E(!1),(e.ready||e.remove)&&(e.remove?j(h):O({event:h,start:e.start,end:e.end}))}})):null)},G=(t(717),function(){return l.a.createElement("div",{className:"agenda"},l.a.createElement("h1",null,"Agenda"),l.a.createElement("div",{className:"calendar"},l.a.createElement(J,null)))}),Y=t(75),X=t.n(Y),q=t(32),z=t.n(q),U=t(18),T=t.n(U),V=(t(718),function(e){var a=Object(n.useContext)(f),t=Object(g.a)(a,1)[0],r=Object(n.useState)(""),c=Object(g.a)(r,2),i=c[0],o=c[1],s=Object(n.useState)(Date.now()),u=Object(g.a)(s,2),m=u[0],d=u[1],E=Object(n.useState)(""),p=Object(g.a)(E,2),v=p[0],h=p[1];return l.a.createElement(M.h,{open:e.open,onClose:function(){e.onClose()},"aria-labelledby":"form-dialog-name",onRendered:function(){o(""),d(Date.now()),h("")}},l.a.createElement(L.a,{handle:".header"},l.a.createElement("div",{className:"newPatientModal"},l.a.createElement("div",{className:"header"},l.a.createElement("h3",{id:"form-dialog-name"}," New Patient ")),l.a.createElement("form",{onSubmit:function(a){var n=new Date;a.preventDefault(),Me.collection("patients").add({name:i,regid:m,tel:v,created:n.getTime(),owner:t}).then(function(e){return console.log("Doc written with ID: ",e.id)}).catch(function(e){return console.log("Error addign doc: ",e)}),e.onClose()}},l.a.createElement(M.d,{margin:"normal",required:!0,fullWidth:!0},l.a.createElement(M.g,{htmlFor:"name"},"Patient name"),l.a.createElement(M.f,{id:"name",name:"name",autoComplete:"name",autoFocus:!0,onChange:function(e){return o(e.target.value)},value:i})),l.a.createElement(M.d,{margin:"normal",required:!0,fullWidth:!0},l.a.createElement(M.g,{htmlFor:"regid"},"Registration ID"),l.a.createElement(M.f,{id:"regid",name:"regid",autoComplete:"regid",onChange:function(e){return d(e.target.value)},value:m})),l.a.createElement(M.d,{margin:"normal",required:!0,fullWidth:!0},l.a.createElement(M.g,{htmlFor:"tel"},"Telephone"),l.a.createElement(M.f,{id:"tel",name:"tel",autoComplete:"tel",onChange:function(e){return h(e.target.value)},value:v})),l.a.createElement("div",{className:"pickers"}),l.a.createElement(M.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Add patient")))))}),Z=function(){var e=Object(n.useState)(!1),a=Object(g.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)([]),i=Object(g.a)(c,2),o=i[0],s=i[1],u=Object(n.useState)([]),m=Object(g.a)(u,2),d=m[0],E=m[1],h=Object(n.useContext)(v),O=Object(g.a)(h,1)[0],j=Object(n.useContext)(f),C=Object(g.a)(j,1)[0],N=function(e,a){for(var t=[],n=0;n<e.length;n++){var l=JSON.stringify(e[n]);l.toLowerCase().indexOf(a)>=0&&t.push(JSON.parse(l))}return t};return Object(n.useEffect)(function(){return Me.collection("patients").where("owner","==",C).orderBy("created","desc").limit(5).onSnapshot(function(e){var a=[];e.forEach(function(e){var t=Object(p.a)({},e.data(),{uid:e.id});a.push(t)}),E(a)})},[]),l.a.createElement("div",{className:"pacientes"},l.a.createElement("div",{className:"superior"},l.a.createElement("h1",null,"Patients")),l.a.createElement(z.a,{className:"paperSearch"},l.a.createElement(T.a,{className:"searchInput",type:"search",label:"Search patient",variant:"outlined",autoFocus:!0,onChange:function(e){return a=(a=e.target.value).trim().toLowerCase(),void s(""===a?[]:N(Object(k.a)(O),a));var a}}),l.a.createElement("span",{className:"spacer"}),l.a.createElement(X.a,{className:"newPatientBtn",variant:"contained",color:"primary",onClick:function(){return r(!0)}},"New patient")),l.a.createElement(z.a,{className:"paperPatientsList"},l.a.createElement("ul",null,o.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"gridHead"},l.a.createElement("h3",null,"Name"),l.a.createElement("h3",null,"Phone Number")),o.map(function(e,a){return l.a.createElement("li",{key:a,className:a%2?"odd":"even"},l.a.createElement(b.a,{to:{pathname:"/patient/".concat(e.uid)},className:"gridBody"},l.a.createElement("span",null," ",e.name," "),l.a.createElement("span",null," ",e.tel," ")))})):d.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"Last Created by ",C," "),d.map(function(e,a){return l.a.createElement("li",{key:a,className:a%2?"odd":"even"},l.a.createElement(b.a,{to:{pathname:"/patient/".concat(e.uid)},className:"gridBody"},l.a.createElement("span",null," ",e.name," "),l.a.createElement("span",null,H()(e.created).format("MMMM Do YYYY, h:mm:ss a"))))})):l.a.createElement("span",null," Search for a patient or create a new patient "))),l.a.createElement(V,{open:t,onClose:function(){r(!1)}}))},_=(t(732),t(49)),$=t.n(_),ee=t(59),ae=t.n(ee),te=t(60),ne=t.n(te),le=t(24),re=t.n(le),ce=t(58),ie=t.n(ce),oe=t(61),se=t.n(oe);var ue=function(e){var a=Object(n.useState)(e.patient),t=Object(g.a)(a,2),r=t[0],c=t[1],i=Object(n.useState)(null),o=Object(g.a)(i,2),s=o[0],u=o[1],m=Object(n.useState)(!0),d=Object(g.a)(m,2),E=d[0],f=d[1];Object(n.useEffect)(function(){c(e.patient)},[e]);var v=function(a){var t=new Date(a),n=new Date,l=n.getFullYear()-t.getFullYear();(n.getMonth()<t.getMonth()||n.getMonth()===t.getMonth()&&n.getDate()<t.getDate())&&l--;var c=t.getTimezoneOffset(),i=t.getTime()+60*c*1e3,o=new Date(i);e.patRef.update(Object(p.a)({},r,{dob:o,age:l}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"sectionHeader"},l.a.createElement("span",null,"Personal Data"),l.a.createElement($.a,{"aria-label":"Delete",onClick:function(){E?f(!1):(f(!0),s&&v(s),e.patRef.update(Object(p.a)({},r,{edited:new Date,editedBy:e.user})))}},E?l.a.createElement("i",{className:"material-icons"},"edit"):l.a.createElement("i",{className:"material-icons"},"save"))),l.a.createElement("form",{className:"sectionContent"},l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"telyemail"},l.a.createElement(T.a,{label:"Telephone",variant:"outlined",disabled:!!E,value:r.tel?r.tel:"",onChange:function(e){return c(Object(p.a)({},r,{tel:e.target.value}))}}),l.a.createElement(T.a,{label:"Email",variant:"outlined",disabled:!!E,value:r.email?r.email:"",onChange:function(e){return c(Object(p.a)({},r,{email:e.target.value}))}})),l.a.createElement(T.a,{className:"address",label:"Address",variant:"outlined",multiline:!0,rows:"3",disabled:!!E,value:r.address?r.address:"",onChange:function(e){return c(Object(p.a)({},r,{address:e.target.value}))}}),l.a.createElement("div",{className:"genydob"},l.a.createElement(ie.a,{className:"selectGender",variant:"outlined",disabled:!!E},l.a.createElement(ae.a,{htmlFor:"gender"},"Gender"),l.a.createElement(se.a,{value:r.gender?r.gender:"",onChange:function(e){return c(Object(p.a)({},r,{gender:e.target.value}))},input:l.a.createElement(ne.a,{labelWidth:50,name:"gender",id:"gender"})},l.a.createElement(re.a,{value:""},l.a.createElement("em",null,"None")),l.a.createElement(re.a,{value:"Male"},"Male"),l.a.createElement(re.a,{value:"Female"},"Female"),l.a.createElement(re.a,{value:"Other"},"Other"))),l.a.createElement(T.a,{className:"dob",label:"Birthday",variant:"outlined",disabled:!!E,type:"date",defaultValue:r.dob?function(){var e=r.dob.toDate(),a=("0"+e.getDate()).slice(-2),t=("0"+(e.getMonth()+1)).slice(-2);return e.getFullYear()+"-"+t+"-"+a}():"",InputLabelProps:{shrink:!0},onChange:function(e){u(e.target.value)}})))))},me=t(50),de=t.n(me);var Ee=function(e){var a=Object(n.useState)(e.patient),t=Object(g.a)(a,2),r=t[0],c=t[1],i=Object(n.useState)(!0),o=Object(g.a)(i,2),s=o[0],u=o[1];return Object(n.useEffect)(function(){c(e.patient)},[e]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"sectionHeader"},l.a.createElement("span",null,"Clinical History"),l.a.createElement($.a,{"aria-label":"Delete",onClick:function(){s?u(!1):(u(!0),e.patRef.update(Object(p.a)({},r,{edited:new Date,editedBy:e.user})))}},s?l.a.createElement("i",{className:"material-icons"},"edit"):l.a.createElement("i",{className:"material-icons"},"save"))),l.a.createElement("form",{className:"sectionContent"},l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"row0"},l.a.createElement(T.a,{label:"Weight",variant:"outlined",disabled:!!s,InputProps:{endAdornment:l.a.createElement(de.a,{position:"end"},"Kg")},value:r.weight?r.weight:"",onChange:function(e){return c(Object(p.a)({},r,{weight:e.target.value}))}}),l.a.createElement(T.a,{label:"Height",variant:"outlined",InputProps:{endAdornment:l.a.createElement(de.a,{position:"end"},"cms")},disabled:!!s,value:r.height?r.height:"",onChange:function(e){return c(Object(p.a)({},r,{height:e.target.value}))}}),l.a.createElement(ie.a,{variant:"outlined",disabled:!!s},l.a.createElement(ae.a,{htmlFor:"bloodGroup"},"Blood Group"),l.a.createElement(se.a,{value:r.bloodGroup?r.bloodGroup:"",onChange:function(e){return c(Object(p.a)({},r,{bloodGroup:e.target.value}))},input:l.a.createElement(ne.a,{labelWidth:80,name:"bloodGroup",id:"bloodGroup"})},l.a.createElement(re.a,{value:""},l.a.createElement("em",null,"Unknown")),l.a.createElement(re.a,{value:"O-"},"O-"),l.a.createElement(re.a,{value:"O+"},"O+"),l.a.createElement(re.a,{value:"B-"},"B-"),l.a.createElement(re.a,{value:"B+"},"B+"),l.a.createElement(re.a,{value:"A-"},"A-"),l.a.createElement(re.a,{value:"A+"},"B+"),l.a.createElement(re.a,{value:"AB-"},"AB-"),l.a.createElement(re.a,{value:"AB+"},"AB+")))),l.a.createElement("div",{className:"row1"},l.a.createElement(T.a,{label:"Allergies",variant:"outlined",multiline:!0,rows:"4",disabled:!!s,value:r.allergies?r.allergies:"",onChange:function(e){return c(Object(p.a)({},r,{allergies:e.target.value}))}}),l.a.createElement(T.a,{label:"Medications",variant:"outlined",multiline:!0,rows:"4",disabled:!!s,value:r.medications?r.medications:"",onChange:function(e){return c(Object(p.a)({},r,{medications:e.target.value}))}})),l.a.createElement("div",{className:"row2"},l.a.createElement(T.a,{label:"Congenital disorders",variant:"outlined",multiline:!0,rows:"4",disabled:!!s,value:r.disorders?r.disorders:"",onChange:function(e){return c(Object(p.a)({},r,{disorders:e.target.value}))}}),l.a.createElement(T.a,{label:"Notes",variant:"outlined",multiline:!0,rows:"4",disabled:!!s,value:r.notes?r.notes:"",onChange:function(e){return c(Object(p.a)({},r,{notes:e.target.value}))}})))))},pe=t(315),ge=t.n(pe),fe=t(137),ve=t.n(fe),he=t(138),be=t.n(he);function Oe(e){var a=Object(n.useState)(e.cita),t=Object(g.a)(a,2),r=t[0],c=t[1],i=Object(n.useState)(!0),o=Object(g.a)(i,2),s=o[0],u=o[1];Object(n.useEffect)(function(){c(e.cita)},[e]);return l.a.createElement("div",{className:"consultation"},l.a.createElement("div",{className:"sectionHeader"},l.a.createElement("span",null,"Consultation of ",H()(r.start.toDate()).format("LLLL")," "),l.a.createElement($.a,{"aria-label":"Delete",onClick:function(){s?u(!1):(u(!0),Me.collection("events").doc(r.uid).update(Object(p.a)({},r,{edited:new Date,editedBy:e.user})))}},s?l.a.createElement("i",{className:"material-icons"},"edit"):l.a.createElement("i",{className:"material-icons"},"save"))),l.a.createElement("form",{className:"sectionContent"},l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"vitalsigns"},l.a.createElement(T.a,{label:"Temp",variant:"outlined",disabled:!!s,InputProps:{endAdornment:l.a.createElement(de.a,{position:"end"},"\xb0C")},value:r.temp?r.temp:"",onChange:function(e){return c(Object(p.a)({},r,{temp:e.target.value}))}}),l.a.createElement(T.a,{label:"Heart rate",variant:"outlined",InputProps:{endAdornment:l.a.createElement(de.a,{position:"end"},"bpm")},disabled:!!s,value:r.hr?r.hr:"",onChange:function(e){return c(Object(p.a)({},r,{hr:e.target.value}))}}),l.a.createElement(T.a,{label:"Systolic",variant:"outlined",disabled:!!s,value:r.systolic?r.systolic:"",onChange:function(e){return c(Object(p.a)({},r,{systolic:e.target.value}))}}),l.a.createElement(T.a,{label:"Diastolic",variant:"outlined",disabled:!!s,value:r.diastolic?r.diastolic:"",onChange:function(e){return c(Object(p.a)({},r,{diastolic:e.target.value}))}}),l.a.createElement(T.a,{label:"SpO2",variant:"outlined",disabled:!!s,value:r.spo2?r.spo2:"",onChange:function(e){return c(Object(p.a)({},r,{spo2:e.target.value}))}})),l.a.createElement("div",{className:"row1"},l.a.createElement(T.a,{label:"Symptoms",variant:"outlined",multiline:!0,rows:"8",disabled:!!s,value:r.symptoms?r.symptoms:"",onChange:function(e){return c(Object(p.a)({},r,{symptoms:e.target.value}))}}),l.a.createElement(T.a,{label:"Clinical findings",variant:"outlined",multiline:!0,rows:"8",disabled:!!s,value:r.findings?r.findings:"",onChange:function(e){return c(Object(p.a)({},r,{findings:e.target.value}))}})),l.a.createElement("div",{className:"row2"},l.a.createElement(T.a,{label:"Diagnosis",variant:"outlined",multiline:!0,rows:"8",disabled:!!s,value:r.diagnosis?r.diagnosis:"",onChange:function(e){return c(Object(p.a)({},r,{diagnosis:e.target.value}))}}),l.a.createElement(T.a,{label:"Prescription",variant:"outlined",multiline:!0,rows:"8",disabled:!!s,value:r.prescription?r.prescription:"",onChange:function(e){return c(Object(p.a)({},r,{prescription:e.target.value}))}})))))}var je=function(e){var a=Object(n.useState)(0),t=Object(g.a)(a,2),r=t[0],c=t[1],i=Object(n.useState)(e.appointments),o=Object(g.a)(i,2),s=o[0],u=o[1];return Object(n.useEffect)(function(){u(e.appointments)},[e]),l.a.createElement("div",{className:"appointments"},l.a.createElement("h3",null,"Appointments"),l.a.createElement(ve.a,{className:"tabsbar",value:r,onChange:function(e,a){c(a)},variant:"scrollable",scrollButtons:"auto"},s.map(function(e,a){return l.a.createElement(be.a,{key:a,label:H()(e.start.toDate()).format("L")})})),l.a.createElement(ge.a,{index:r,onChangeIndex:function(e){c(e)}},e.appointments.map(function(a,t){return l.a.createElement("div",{key:t},l.a.createElement(Oe,{cita:a,user:e.user}))})))};var Ce=[{path:"/",component:G},{path:"/patients",component:Z},{path:"/patient/:uid",component:function(e){var a=e.match.params.uid,t=Object(n.useContext)(f),r=Object(g.a)(t,1)[0],c=Me.collection("patients").doc(a),i=Object(n.useState)(null),o=Object(g.a)(i,2),s=o[0],u=o[1],m=Object(n.useState)([]),d=Object(g.a)(m,2),E=d[0],v=d[1];Object(n.useEffect)(function(){return Me.collection("patients").doc(a).onSnapshot(function(e){var a=e.data();u(a)})},[]),Object(n.useEffect)(function(){return Me.collection("events").where("patientid","==",a).onSnapshot(function(e){var a=[];e.forEach(function(e){a.push(Object(p.a)({},e.data(),{uid:e.id}))}),v(a)})},[]);var h=["superior","gridAreas"];return E.length>0&&(h=["superior","gridAreasApp"]),l.a.createElement("div",{className:"patientProfile"},s?l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,s.name,s.age?l.a.createElement("small",null,s.age+" years old"," "):null,s.gender?l.a.createElement("span",null,s.gender," "):null),l.a.createElement(z.a,{className:h.join(" ")},l.a.createElement("div",{className:"personalData"},l.a.createElement(ue,{patient:s,patRef:c,user:r})),E.length>0?l.a.createElement(je,{appointments:E,user:r}):null,l.a.createElement("div",{className:"clinicalHistory"},l.a.createElement(Ee,{patient:s,patRef:c,user:r})))):l.a.createElement("div",null,"Loading..."))}}],Ne=function(){var e=Ce.map(function(e,a){return l.a.createElement(d.a,Object.assign({key:a,exact:!0},e))});return l.a.createElement(m.a,null,e,l.a.createElement(d.a,{path:"*",render:function(){return l.a.createElement(S.a,{to:"/"})}}))};t(765);var Ae=function(){var e=Object(n.useState)(1),a=Object(g.a)(e,2),t=a[0],r=a[1],c=["sidebar"],i=["main"];return 1===t&&(c.push("sidebarMin"),i.push("mainMin")),2===t&&(c.push("sidebarOpen"),i.push("mainOpen")),l.a.createElement("div",{className:"layout"},l.a.createElement(C,{onChange:function(){r(t<2?t+1:0)}}),l.a.createElement("div",{className:c.join(" ")},l.a.createElement(y,null)),l.a.createElement("div",{className:i.join(" ")},l.a.createElement(Ne,null)))},we=Object(E.createMuiTheme)({palette:{primary:{main:w.a.primary,contrastText:"#ffffff"},secondary:{main:w.a.secondary}},typography:{useNextVariants:!0}}),ye=function(){return l.a.createElement(h,null,l.a.createElement(E.MuiThemeProvider,{theme:we},l.a.createElement(u.a,{basename:"/v8-bears-team-11"},l.a.createElement(m.a,null,l.a.createElement(d.a,{component:Ae})))))},Se=(t(766),function(){var e=Object(n.useState)(""),a=Object(g.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(""),i=Object(g.a)(c,2),o=i[0],u=i[1],m=Object(n.useState)(null),d=Object(g.a)(m,2),E=d[0],p=d[1];return l.a.createElement("div",{className:"signin"},l.a.createElement("h1",null,"ChinguEMR"),l.a.createElement(M.b,{className:"card"},l.a.createElement(M.c,{title:"Sign In",className:"cardheader"}),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s.a.auth().signInWithEmailAndPassword(t,o).then(function(){p(null)}).catch(function(e){p(e.message)})}},l.a.createElement(M.d,{className:"emailinput",margin:"normal",required:!0,fullWidth:!0},l.a.createElement(M.g,{htmlFor:"email"},"Email Address"),l.a.createElement(M.f,{id:"email",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return r(e.target.value)}})),l.a.createElement(M.d,{className:"passwordInput",margin:"normal",required:!0,fullWidth:!0},l.a.createElement(M.g,{className:"passLabel",htmlFor:"password"},"Password"),l.a.createElement(M.f,{name:"password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return u(e.target.value)}})),E?l.a.createElement("p",{className:"errormsg"},E):null,l.a.createElement(M.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Sign in"),l.a.createElement(b.a,{className:"linkto",to:"/signup"},"Sign up"))),l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("strong",null,"v8-bears-team-11")),l.a.createElement("small",null,"v1.0.2")))}),De=(t(767),function(){var e=Object(n.useState)(""),a=Object(g.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(""),i=Object(g.a)(c,2),o=i[0],u=i[1],m=Object(n.useState)(""),d=Object(g.a)(m,2),E=d[0],p=d[1],f=Object(n.useState)(""),v=Object(g.a)(f,2),h=v[0],O=v[1],j=Object(n.useState)(null),C=Object(g.a)(j,2),N=C[0],A=C[1];return l.a.createElement("div",{className:"signup"},l.a.createElement("h1",null,"ChinguEMR"),l.a.createElement(M.b,{className:"card"},l.a.createElement(M.c,{title:"Sign Up",className:"cardheader"}),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s.a.auth().createUserWithEmailAndPassword(t,o).then(function(e){A(null),console.log(e),e.user.updateProfile({displayName:E+" "+h,photoURL:null}).then(function(){var a={uid:e.user.uid,email:e.user.email,displayName:e.user.displayName,photoURL:e.user.photoURL,password:o,lastlogin:e.user.metadata.lastSignInTime,created:e.user.metadata.creationTime};Me.collection("users").add(a).then(function(e){return console.log("Doc written with ID: ",e.id)}).catch(function(e){return console.log("Error addign doc: ",e)})})}).catch(function(e){A(e.message)})}},l.a.createElement(M.d,{className:"emailinput",margin:"normal",required:!0,fullWidth:!0},l.a.createElement(M.g,{htmlFor:"email"},"Email Address"),l.a.createElement(M.f,{id:"email",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return r(e.target.value)}})),l.a.createElement(M.d,{className:"passwordInput",margin:"normal",required:!0,fullWidth:!0},l.a.createElement(M.g,{htmlFor:"password"},"Password"),l.a.createElement(M.f,{name:"password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return u(e.target.value)}})),l.a.createElement(M.d,{className:"firstNameInput",margin:"normal",required:!0,fullWidth:!0},l.a.createElement(M.g,{htmlFor:"firstName"},"First Name"),l.a.createElement(M.f,{id:"firstName",name:"firstName",autoComplete:"firstName",onChange:function(e){return p(e.target.value)}})),l.a.createElement(M.d,{className:"lastNameInput",margin:"normal",required:!0,fullWidth:!0},l.a.createElement(M.g,{htmlFor:"lastName"},"Last Name"),l.a.createElement(M.f,{id:"lastName",name:"lastName",autoComplete:"lastName",onChange:function(e){return O(e.target.value)}})),N?l.a.createElement("p",{className:"errormsg"},N):null,l.a.createElement(M.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Sign Up"),l.a.createElement(b.a,{className:"linkto",to:"/signin"},"Sign In"))),l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("strong",null,"v8-bears-team-11")),l.a.createElement("small",null,"v1.0.2")))});var ke=Object(E.createMuiTheme)({palette:{primary:{main:w.a.primary,contrastText:"#ffffff"},secondary:{main:w.a.secondary}},typography:{useNextVariants:!0}}),Be=function(){return l.a.createElement(E.MuiThemeProvider,{theme:ke},l.a.createElement(u.a,null,l.a.createElement(m.a,null,l.a.createElement(d.a,{exact:!0,path:"/signin",component:Se}),l.a.createElement(d.a,{exact:!0,path:"/signup",component:De}),l.a.createElement(d.a,{path:"*",render:function(){return l.a.createElement(S.a,{to:"/signin"})}}))))};t.d(a,"fb",function(){return Ie}),t.d(a,"db",function(){return Me});var Ie=s.a.initializeApp({apiKey:"AIzaSyBv7guRa7CLbnWgOMDzDDzTY7RcrOZmRu4",authDomain:"chinguemr.firebaseapp.com",databaseURL:"https://chinguemr.firebaseio.com",projectId:"chinguemr",storageBucket:"chinguemr.appspot.com",messagingSenderId:"360626431615"}),Me=Ie.firestore();Ie.auth().onAuthStateChanged(function(e){e?(c.a.render(l.a.createElement(ye,null),document.getElementById("root")),i()):(c.a.render(l.a.createElement(Be,null),document.getElementById("root")),i())})}},[[384,1,2]]]);
//# sourceMappingURL=main.3273add7.chunk.js.map